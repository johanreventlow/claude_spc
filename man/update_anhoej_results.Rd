% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_anhoej_results.R
\name{update_anhoej_results}
\alias{update_anhoej_results}
\title{Opdater Anhøj resultater ud fra nye QIC-beregninger}
\usage{
update_anhoej_results(previous, qic_results, centerline_changed = FALSE)
}
\arguments{
\item{previous}{list. Forrige \code{anhoej_results} (kan være NULL ved første kørsel)}

\item{qic_results}{list. Nye beregnede metrics fra QIC-kald (kan indeholde NA)}

\item{centerline_changed}{logical. TRUE hvis centerline/baseline er ændret (inkl. ryddet)}
}
\value{
list. Opdateret \code{anhoej_results}
}
\description{
Regler:
\itemize{
\item Hvis nye beregninger indeholder gyldige metrics (longest_run eller n_crossings),
så opdateres resultaterne altid og markeres som gyldige
\item Hvis metrics er NA og centerline (baseline) er ændret, opdateres til NA-resultater
(vi bevarer ikke gamle værdier — UI skal afspejle den nye tilstand)
\item Hvis metrics er NA og centerline ikke er ændret, og der fandtes gyldige værdier før,
bevares de gamle værdier (for at undgå midlertidig flimmer under beregning)
}
}
\keyword{internal}
